extends layout

block content
  
  #wrapper(ng-controller="adminController")
    #header
        p Ugovernence.in
        p 
          a(href="#map") Analyze
        p
          a(href="#execute") Execute
        
    #map
    form#colors

      h3.heading Data Filter

      p.section_head 
        b Gender

      label
        input(type  ='checkbox' name='filter_gender' ng-click='filterMap()' value='Male')
        | Male
        br
      label
        input(type='checkbox' name='filter_gender' ng-click='filterMap()' value='Female')
        | Female
        br

      p.section_head
        b Age group {{$scope.age}}

      select(name='age' ng-model='selected_age' ng-change='filterMap()')
        option(value='', selected) Select an age group
        option(value='{{age[0]}}') {{age[0]}}
        option(value='{{age[1]}}') {{age[1]}}
        option(value='{{age[2]}}') {{age[2]}}
        option(value='{{age[3]}}') {{age[3]}}
        option(value='{{age[4]}}') {{age[4]}}
        option(value='{{age[5]}}') {{age[5]}}

      p.section_head 
        b Issue

      select(name='title' ng-model='selected_title' ng-change='filterMap()')
        option(value='', selected) Select an issue
        option(value='{{title[0]}}') {{title[0]}}
        option(value='{{title[1]}}') {{title[1]}}
        option(value='{{title[2]}}') {{title[2]}}
        option(value='{{title[3]}}') {{title[3]}}
        option(value='{{title[4]}}') {{title[4]}}
        option(value='{{title[5]}}') {{title[5]}}

      div.issue_list(ng-show='selected_title === title[0]')
        p.section_head 
          b {{title[0]}}
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{basic_services[0]}}')
        | {{basic_services[0]}}
        br
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{basic_services[1]}}')
        | {{basic_services[1]}}
        br
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{basic_services[3]}}')
        | {{basic_services[2]}}
        br
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{basic_services[3]}}')
        | {{basic_services[3]}}
        br
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{basic_services[4]}}')
        | {{basic_services[4]}}
        br
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{basic_services[5]}}')
        | {{basic_services[5]}}
        br

      div.issue_list(ng-show='selected_title === title[1]')
        p.section_head 
          b {{title[1]}}
        label
        input(type  ='checkbox' name='filters' ng-click='filterMap()' value='{{education_improvements[0]}}')
        | {{education_improvements[0]}}
        br

      div.issue_list(ng-show='selected_title === title[2]')
        p.section_head 
          b {{title[2]}}
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{health_issues[0]}}')
        | {{health_issues[0]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{health_issues[1]}}')
        | {{health_issues[1]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{health_issues[2]}}')
        | {{health_issues[2]}}
        br

      div.issue_list(ng-show='selected_title === title[3]')
        p.section_head 
          b {{title[3]}}
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{home_improvements[0]}}')
        | {{home_improvements[0]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{home_improvements[1]}}')
        | {{home_improvements[1]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{home_improvements[2]}}')
        | {{home_improvements[2]}}
        br

      div.issue_list(ng-show='selected_title === title[4]')
        p.section_head 
          b {{title[4]}}
        label
        input(type  ='checkbox' name='filters_issues' ng-click='filterMap()' value='{{personal_issues[0]}}')
        | {{personal_issues[0]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{personal_issues[1]}}')
        | {{personal_issues[1]}}
        br

      div.issue_list(ng-show='selected_title === title[5]')
        p.section_head 
          b {{title[5]}}
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{infrastructure_issues[0]}}')
        | {{infrastructure_issues[0]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{infrastructure_issues[1]}}')
        | {{infrastructure_issues[1]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{infrastructure_issues[2]}}')
        | {{infrastructure_issues[2]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{infrastructure_issues[3]}}')
        | {{infrastructure_issues[3]}}
        br
        label
        input(type  ='checkbox' name='filter_issues' ng-click='filterMap()' value='{{infrastructure_issues[4]}}')
        | {{infrastructure_issues[4]}}
        br
      #download
        p
          a(href='/downloads/final.csv' class="btnCsvDownload" download) Download csv
    #charts

      div.chart_head
        select(name='cluster' ng-model='selected_cluster' ng-change='draw_charts()')
          option(value='', selected) Select a Cluster
          option(value='{{clusters[0]}}' selected) {{clusters[0]}}
          option(value='{{clusters[1]}}') {{clusters[1]}}
          option(value='{{clusters[2]}}') {{clusters[2]}}
          option(value='{{clusters[3]}}') {{clusters[3]}}

        h2 Selected cluster : {{selected_cluster}}
        h3 Total number of data points : {{cluster_node_count}}

        

      div.chart_section
        div.chart_parent
          h1 Total Gender Split
          div(google-chart chart="chart1")

      div.chart_section  
        div.chart_parent
          h1 Total Age Split
          div(google-chart chart="chart2")

      div.chart_section
        div.chart_parent
          h1 Reported Needs
          div(google-chart chart="chart3")

      div.chart_section
        div.chart_parent_half
          div(google-chart chart="chart4")
        div.chart_parent_half
          div(google-chart chart="chart5")

  #execute
    #execute_1
      h1 Execute data collection independently
      h4 Ugovenance uses sapelli application architecture and community maps integration to acquire data. Download Sapelli appplication from here
      p
        a(href="https://www.ucl.ac.uk/excites/software/sapelli" class="btnExecute") Download Sapelli App

    #execute_2
      h1 Modify Sapelli Application to fit in your needs
      h4 Sapelli Application can be modified to fit your use case. See the documentation here to modify your application.
      p
        a(href="http://wiki.sapelli.org/" class="btnExecute") Sapelli Application Documentation

    #execute_3
      h1 Execute on Site
      h4 There are a lot of ways to initiate your data acquisition process. Here are some links to build a rapport with the community.
      p
        a(href="http://www.vancouveryouth.ca/sites/covytheme.tidaldevel.com/files/Mapped%20Vancouver%20Final.pdf" class="btnExecute") Mapped: A youth participatory toolkit

  #About
    h2 About Ugovernance.in
    h3 Executed as a part of Dissertation submission to CEPT University
    p
      img(src="/images/abhishek.png" height="150")
    h3.name Abhishek Doshi
    p.contact Contact : abhishek.doshi.bplan12@cept.ac.in

    h3.guide_name Thesis Guide: Prof. Sejal Patel
    p.contact Contact: Sejal@cept.ac.in 


          


      
        


